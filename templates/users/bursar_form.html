{% extends 'base.html' %}

{% block title %}Add Bursar - Jets Fees{% endblock %}
{% block page_title %}Add Staff Member{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div class="card"
        style="background: white; padding: 2rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-md);">
        <form method="post">
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="alert error"
                style="margin-bottom: 1.5rem; padding: 1rem; background: #FEE2E2; color: #EF4444; border-radius: 4px;">
                {{ form.non_field_errors }}</div>
            {% endif %}

            <div class="form-group" style="margin-bottom: 1rem;">
                <label class="form-label"
                    style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color);">Username</label>
                {{ form.username }}
                {{ form.username.errors }}
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
                <div class="form-group">
                    <label class="form-label"
                        style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color);">First
                        Name</label>
                    {{ form.first_name }}
                    {{ form.first_name.errors }}
                </div>
                <div class="form-group">
                    <label class="form-label"
                        style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color);">Last
                        Name</label>
                    {{ form.last_name }}
                    {{ form.last_name.errors }}
                </div>
            </div>

            <div class="form-group" style="margin-bottom: 2rem;">
                <label class="form-label"
                    style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color);">Email
                    Address</label>
                {{ form.email }}
                {{ form.email.errors }}
                <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.25rem;">We'll prompt them to set
                    a password on first login (or use default).</div>
            </div>

            <!-- Password fields usually handled by user creation form automatically if included, 
                 but typically for admin-created users we might set a default or let them set it. 
                 Since we inherited UserCreationForm, it expects password fields unless we override. 
                 Let's assume the form renders them or we should have excluded them if we want auto-generation.
                 For simplicity here, we render everything else explicitly or rely on form.as_p if lazy, 
                 but we are rendering fields manually. 
                 UserCreationForm entails password1/2. Let's render them. -->

            <div style="background: var(--bg-body); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                <h4
                    style="margin-bottom: 1rem; font-size: 0.9rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em;">
                    Security</h4>
                <div class="form-group" style="margin-bottom: 1rem;">
                    <label class="form-label"
                        style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color);">Password</label>
                    {{ form.password1 }}
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">{{
                        form.password1.help_text }}</div>
                    {{ form.password1.errors }}
                </div>
                <div class="form-group">
                    <label class="form-label"
                        style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-color);">Confirm
                        Password</label>
                    {{ form.password2 }}
                    {{ form.password2.errors }}
                </div>
            </div>

            <div style="display: flex; gap: 1rem;">
                <button type="submit" class="btn-primary"
                    style="flex: 1; padding: 0.875rem; background: var(--primary-color); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer;">
                    Create Account
                </button>
                <a href="{% url 'bursar_list' %}"
                    style="display: flex; align-items: center; justify-content: center; padding: 0.875rem 2rem; border: 1px solid var(--border-color); border-radius: 6px; text-decoration: none; color: var(--text-color); font-weight: 600;">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}